---
import Section from "../Section.astro";
import { Icon } from "astro-icon/components";

import { projects } from "@cv";
import { Image } from "astro:assets";
---

<Section className={Astro.props.className} title="Projects">
  <div class="grid grid-cols-1 gap-3 md:grid-cols-2 print:flex print:flex-col">
    {
      (projects ?? []).map(
        ({ name, github, description }) => (
          <div
            role="contentinfo"
            class:list=[
              "project-container grid-span-1 group relative flex min-h-40 flex-col overflow-hidden rounded-md bg-skin-button-muted/50 p-5 shadow-sm ring-1 ring-skin-muted",
            ]
          >
            <div class={`relative z-10 flex items-center justify-between space-x-[10px]`}>
              <div class="flex items-center gap-2">
                <Icon name="mdi:folder-outline" class="size-4" />
                <span class="text-lg font-semibold">{name}</span>
              </div>
              {github && (
                <a
                  href={github}
                  title="View project repository on GitHub"
                  target="_blank"
                  rel="noopener"
                  class="opacity-75 transition duration-100 hover:scale-125 hover:opacity-100"
                >
                  <Icon name="mdi:github" width={24} height={24} />
                </a>
              )}
            </div>
            <p class={`relative z-10 py-3 text-sm text-skin-base`}>
              {description}
            </p>
          </div>
        )
      )
    }
  </div>
</Section>
<script>
  import { Fancybox } from "@fancyapps/ui";
  Fancybox.bind('[data-fancybox="projects"]', { hideScrollbar: false });
</script>

<style>
  ul {
    @apply ml-4 list-disc space-y-1;
    li {
      @apply text-skin-muted;
    }
  }

  footer {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
    font-size: 0.6rem;
  }

  footer span {
    border-radius: 6px;
    background: #eee;
    color: #444;
    font-size: 0.6rem;
    font-weight: 500;
    padding: 0.2rem 0.6rem;
  }
</style>
